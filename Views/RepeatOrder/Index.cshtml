@model IEnumerable<Milk_Bakery.Models.PurchaseOrder>

@{
    ViewData["Title"] = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
    string role = Context.Request.HttpContext.Session.GetString("role");
}
@{
    Int32 i = 0;
    var cardColors = new List<string>
     {
             "primary", "secondary", "success", "danger", "warning", "info", "dark",
     };
}

<div class="mt-3">
    <div class="card mb-3">
        <div class="card-header text-white p-1" style="background-color:#FC2947;">
            <div class="d-flex align-items-baseline">
                <a href="/Home/Index" class="btn btn-link text-white"><i class="fa fa-arrow-left"></i></a>
                <h5 class="mx-auto text-white text-2xl font-semibold">Repeat Order</h5>
            </div>
        </div>
        <div class="card-body">
            <div class="row" id="myDiv">
                <div class="form-group col-sm-6">
                    <select id="myDropdown1" class="form-control select2" asp-items="@ViewBag.customer" onchange="dropdownChanged()"></select>
                </div>
            </div>
            <div id="output"></div>
        </div>
    </div>
</div>

<script>
	function dropdownChanged() {
		var selectedOption = document.getElementById("myDropdown1").value;
		// Make an AJAX request to the controller action
		$.ajax({
			url: '/RepeatOrder/ActionName',
			type: 'POST',
			data: { optionValue: selectedOption },
			success: function (result) {
				$('#output').empty();
				$("#output").html(result);
			},
			error: function (xhr, status, error) {
				// Handle the error response
                $('#output').empty();
				console.log("An error occurred while executing the action.");
			}
		});
	}

</script>